<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.airline.reservation.ui.ReservationController" stylesheets="@../styles/airlink-theme.css">
   <top>
      <VBox spacing="10" style="-fx-background-color: #1e3a8a; -fx-padding: 15;">
         <HBox alignment="CENTER_LEFT" spacing="15">
            <Button text="â† Back" onAction="#handleBack" style="-fx-background-color: white; -fx-text-fill: #1e3a8a; -fx-font-weight: bold;"/>
            <Label text="New Flight Reservation" style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;"/>
         </HBox>
         <ProgressBar progress="0.3" prefWidth="500" styleClass="progress-bar"/>
      </VBox>
   </top>

   <center>
      <ScrollPane fitToWidth="true" styleClass="scroll-pane">
         <VBox spacing="20" style="-fx-padding: 30;" styleClass="form-container">
            <!-- Customer Information -->
            <VBox spacing="15">
               <Label text="Customer Information" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1e293b;"/>
               <GridPane hgap="15" vgap="15">
                  <columnConstraints>
                     <ColumnConstraints prefWidth="150"/>
                     <ColumnConstraints prefWidth="300"/>
                     <ColumnConstraints prefWidth="150"/>
                     <ColumnConstraints prefWidth="300"/>
                  </columnConstraints>

                  <Label text="Full Name *" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="form-label"/>
                  <TextField fx:id="txtFullName" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="form-field"/>

                  <Label text="Date of Birth" GridPane.rowIndex="0" GridPane.columnIndex="2" styleClass="form-label"/>
                  <DatePicker fx:id="dpDob" GridPane.rowIndex="0" GridPane.columnIndex="3" styleClass="form-field"/>

                  <Label text="Phone Number *" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="form-label"/>
                  <TextField fx:id="txtPhone" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="form-field"/>

                  <Label text="Email Address" GridPane.rowIndex="1" GridPane.columnIndex="2" styleClass="form-label"/>
                  <TextField fx:id="txtEmail" GridPane.rowIndex="1" GridPane.columnIndex="3" styleClass="form-field"/>

                  <Label text="Address" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="form-label"/>
                  <TextField fx:id="txtAddress" GridPane.rowIndex="2" GridPane.columnIndex="1" GridPane.columnSpan="3" styleClass="form-field"/>
               </GridPane>
            </VBox>

            <!-- Flight Selection -->
            <VBox spacing="15">
               <Label text="Flight Details" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1e293b;"/>
               <GridPane hgap="15" vgap="15">
                  <columnConstraints>
                     <ColumnConstraints prefWidth="150"/>
                     <ColumnConstraints prefWidth="300"/>
                     <ColumnConstraints prefWidth="150"/>
                     <ColumnConstraints prefWidth="300"/>
                  </columnConstraints>

                  <Label text="From *" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="form-label"/>
                  <ComboBox fx:id="cbFrom" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="form-field"/>

                  <Label text="To *" GridPane.rowIndex="0" GridPane.columnIndex="2" styleClass="form-label"/>
                  <ComboBox fx:id="cbTo" GridPane.rowIndex="0" GridPane.columnIndex="3" styleClass="form-field"/>

                  <Label text="Departure Date *" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="form-label"/>
                  <DatePicker fx:id="dpDeparture" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="form-field"/>

                  <Label text="Class *" GridPane.rowIndex="1" GridPane.columnIndex="2" styleClass="form-label"/>
                  <ComboBox fx:id="cbClass" GridPane.rowIndex="1" GridPane.columnIndex="3" styleClass="form-field"/>
               </GridPane>
            </VBox>

            <!-- Concession Selection -->
            <VBox spacing="15">
               <Label text="Concession Type" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #1e293b;"/>
               <HBox spacing="15" alignment="CENTER_LEFT">
                  <VBox spacing="10" styleClass="concession-option concession-student" onMouseClicked="#selectStudent">
                     <Label text="ðŸŽ“ Student" style="-fx-font-weight: bold;"/>
                     <Label text="25% Discount"/>
                  </VBox>
                  <VBox spacing="10" styleClass="concession-option concession-senior" onMouseClicked="#selectSenior">
                     <Label text="ðŸ‘µ Senior Citizen" style="-fx-font-weight: bold;"/>
                     <Label text="13% Discount"/>
                  </VBox>
                  <VBox spacing="10" styleClass="concession-option concession-cancer" onMouseClicked="#selectCancer">
                     <Label text="â¤ï¸ Cancer Patient" style="-fx-font-weight: bold;"/>
                     <Label text="56.9% Discount"/>
                  </VBox>
               </HBox>
            </VBox>

            <!-- Fare Calculation -->
            <VBox spacing="10" style="-fx-background-color: #f8fafc; -fx-padding: 20; -fx-background-radius: 8;">
               <Label text="Fare Summary" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
               <HBox spacing="100" alignment="CENTER_LEFT">
                  <VBox spacing="5">
                     <Label text="Base Fare:" styleClass="form-label"/>
                     <Label text="Discount:" styleClass="form-label"/>
                     <Label text="Total Fare:" style="-fx-font-weight: bold;"/>
                  </VBox>
                  <VBox spacing="5">
                     <Label fx:id="lblBaseFare" text="$450.00" styleClass="form-label"/>
                     <Label fx:id="lblDiscount" text="$0.00" styleClass="form-label"/>
                     <Label fx:id="lblTotalFare" text="$450.00" style="-fx-font-weight: bold; -fx-text-fill: #059669; -fx-font-size: 16px;"/>
                  </VBox>
               </HBox>
            </VBox>

            <!-- Action Buttons -->
            <HBox spacing="15" alignment="CENTER_RIGHT">
               <Button text="Clear Form" onAction="#handleClear" styleClass="btn-secondary"/>
               <Button text="Book Flight" onAction="#handleBook" styleClass="btn-success"/>
            </HBox>
         </VBox>
      </ScrollPane>
   </center>
</BorderPane>